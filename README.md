# json_parse

- 定义一个语言, 使用 S 表达式作为语法
- S 表达式简单说来就是操作符在前
- 具体代码说明和例子如下
    1. 每个表达式都是一个值, 操作符(可以认为是函数)和操作数(可以认为是参数)用空格隔开
    2. `;` 到行末是单行注释, 没有多行注释
    3. 支持 `+ - * / %` 五种基本数学操作和 `= ! > <` 四种逻辑操作(相等 不等 大于 小于)
    4. 逻辑操作的结果是布尔值 `yes` 和 `no` (这 2 个是关键字)
    5. 支持表达式嵌套
    6. 支持内置函数 `log`, 作用是输出参数字符串
    7. 支持条件表达式 `if`

    8. `set` 作为关键字为变量 `a` 赋值为 1
    9. `function` 作为关键字定义函数


```
# input
input = """
    [set a 1]
    [set b 2]
    [set v1 [+ a b]]
    
    [log v1]
    
    [function [plus x y] [+ x y]]
    
    [set v2 [plus 4 5]]
    [log v2]
    
    [if yes
        [log "是 yes"]
        [log "是 no"]
    ]
"""

# tokens
["[", "set", "a", "1", "]", "[", "set", "b", "2", "]", "[", "set", "v1", "[", "+", "a", "b", "]", "]", "[", "log", "v1", "]", "[", "function", "[", "plus", "x", "y", "]", "[", "+", "x", "y", "]", "]", "[", "set", "v2", "[", "plus", "4", "5", "]", "]", "[", "log", "v2", "]", "[", "if", "yes", "[", "log", "是 yes", "]", "[", "log", "是 no", "]", "]"]

# AST
[["set", "a", "1"], ["set", "b", "2"], ["set", "v1", ["+", "a", "b"]], ["log", "v1"], ["function", ["plus", "x", "y"], ["+", "x", "y"]], ["set", "v2", ["plus", "4", "5"]], ["log", "v2"], ["if", "yes", ["log", "是 yes"], ["log", "是 no"]]]

# output
>>> 3
>>> 9
>>> 是 yes
```







